{"file":"_id_.vue.mjs","mappings":";;;;;;;;;;;;;AA4Da,iBAAY;AACzB,UAAM,QAAQ,SAAQ;AACP,cAAS;AACxB,UAAM,SAAS,iBAAgB;AAE/B,UAAM,UAAU,IAAI,IAAI;AAExB,UAAM,OAAM,CAAA,QAAA,SAAA,IAAAA,iBAAA,MAAM,OAAO,GAAG,OAAO,OAAO,OAAO,WAAW,CAAA;AAE5D,YAAQ,QAAQ,IAAI,KAAK,OAAK,EAAE,OAAO,OAAO,MAAM,OAAO,EAAE,CAAC;AAE9D,UAAM,kBAAgB,mBAAQ,UAAR,mBAAe,eAAf,mBAA2B,IAAI,SAAO,IAAI,QAAO,CAAA;AAEvE,UAAM,kBAAkB,IAAI,CAAE,CAAA;AAE9B,UAAM,uBAAuB,IAAI,OAAO,OAAK;AAC3C,UAAI,EAAE,OAAO,QAAQ,MAAM,MAAM,CAAC,EAAE,WAAY,QAAO;AACvD,YAAM,UAAU,EAAE,WAAW,IAAI,SAAO,IAAI,EAAE;AAC9C,aAAO,QAAQ,KAAK,QAAM,cAAc,SAAS,EAAE,CAAC;AAAA,IACtD,CAAC;AAED,oBAAgB,QAAQ,qBAAqB,KAAK,MAAM,MAAM,KAAK,QAAQ,EAAE,MAAM,GAAG,CAAC;AAEvF,YAAQ;AAAA,MACN,OAAO,IAAG,aAAQ,UAAR,mBAAe,IAAI;AAAA,MAC7B,MAAM;AAAA,QACJ;AAAA,UACE,MAAM;AAAA,UACN,WAAS,aAAQ,UAAR,mBAAe,gBAAe;AAAA,QAC7C;AAAA,MACA;AAAA,IACA,CAAC;AAED,aAAS,SAASC,UAAS;AACzB,cAAOA,YAAA,gBAAAA,SAAS,aACZ,GAAG,OAAO,OAAO,OAAO,IAAIA,SAAQ,SAAS,KAC7C;AAAA,IACN;;;;;;;;;;;;;;;;;","names":["_withAsyncContext","product"],"sources":["../../../../../pages/[slug]/[id].vue"],"sourcesContent":["<template>\n  <section class=\"px-6 py-12 max-w-7xl mx-auto\">\n    <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center\">\n\n      <!-- Imagine fancy -->\n      <div class=\"relative group overflow-hidden rounded-xl shadow-xl\">\n        <div class=\"zoom-wrapper relative w-full h-full overflow-hidden rounded-xl\">\n          <img :src=\"getImage(product)\" :alt=\"product.name\"\n            class=\"zoom-image w-full max-h-96 object-contain transition-transform duration-500 ease-in-out\" />\n        </div>\n      </div>\n\n      <!-- Detalii fancy -->\n      <div class=\"space-y-6 relative z-20\">\n        <h1 class=\"text-4xl font-extrabold tracking-tight text-gray-900\">{{ product.name }}</h1>\n        <p class=\"text-3xl text-cyan-600 font-bold\">{{ product.price }} RON</p>\n\n        <p class=\"text-sm text-gray-500 font-semibold\">\n          {{ product.stock > 0 ? `În stoc: ${product.stock} produse` : 'Stoc epuizat' }}\n        </p>\n\n        <p class=\"text-gray-700 text-base leading-relaxed border-l-4 pl-4 border-gray-300\">\n          {{ product.description || 'Acest produs nu are o descriere, dar e probabil genial.' }}\n        </p>\n\n        <button @click=\"addToCart(product)\" :class=\"Number(product.stock) > 0\n                  ? 'inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-cyan-600 to-cyan-500 text-white text-lg font-semibold rounded-xl shadow-md hover:scale-105 transition-transform'\n                  : 'inline-flex items-center gap-2 px-6 py-3 bg-slate-600 text-white text-lg font-semibold rounded-xl shadow-md  cursor-not-allowed'\"\n                  :disabled=\"Number(product.stock) === 0\">\n                  <i class=\"fas fa-cart-plus\"></i> Adaugă în coș\n          </button>\n      </div>\n    </div>\n\n    <!-- Notă jos -->\n    <p class=\"mt-16 text-center text-sm text-gray-500 italic\">\n      * Pentru comenzi de peste 20 de unități, oferim reduceri. Sună-ne sau scrie-ne ✨\n    </p>\n\n    <!-- Carousel recomandări -->\n    <p>Recomandate</p>\n    <div class=\"flex overflow-x-auto gap-4 mt-6 pb-2 scrollbar-hide scroll-smooth snap-x snap-mandatory\">\n      <div v-for=\"item in relatedProducts\" :key=\"item.id\"\n        class=\"w-[250px] flex-shrink-0 bg-white rounded-xl overflow-hidden shadow-md snap-start\">\n        <!-- <NuxtLink :to=\"`/${item.slug}/${item.id}`\" > -->\n          <a href=\"#\" @click.prevent=\"loadProduct(item)\">\n\n            <img :src=\"getImage(item)\" :alt=\"item.name\" class=\"w-[250px] h-30 object-cover\" />\n            <div class=\"p-4 space-y-1\">\n              <p class=\"text-base font-medium text-gray-800 truncate\">{{ item.name }}</p>\n              <p class=\"text-sm text-gray-500\">{{ item.price }} RON</p>\n            </div>\n          </a>\n        <!-- </NuxtLink> -->\n      </div>\n    </div>\n  </section>\n</template>\n\n<script setup>\nconst cart = useCartStore()\nconst route = useRoute()\nconst router = useRouter()\nconst config = useRuntimeConfig()\n\nconst product = ref(null)\n\nconst all = await $fetch(`${config.public.apiBase}/products`)\n\nproduct.value = all.find(p => p.id === Number(route.params.id))\n\nconst currentCatIds = product.value?.categories?.map(cat => cat.id) || []\n\nconst relatedProducts = ref([])\n\nconst sameCategoryProducts = all.filter(p => {\n  if (p.id === product.value.id || !p.categories) return false\n  const pCatIds = p.categories.map(cat => cat.id)\n  return pCatIds.some(id => currentCatIds.includes(id))\n})\n\nrelatedProducts.value = sameCategoryProducts.sort(() => 0.5 - Math.random()).slice(0, 4)\n\nuseHead({\n  title: `${product.value?.name} - MyShop`,\n  meta: [\n    {\n      name: 'description',\n      content: product.value?.description || 'Vezi detalii despre acest produs.'\n    }\n  ]\n})\n\nfunction getImage(product) {\n  return product?.image_url\n    ? `${config.public.apiBase}/${product.image_url}`\n    : ''\n}\n\nfunction addToCart(product) {\n  cart.add(product)\n}\n\nfunction loadProduct(item) {\n  product.value = item\n  router.replace(`/${item.slug}/${item.id}`)\n  useHead({\n    title: `${item.name} - MyShop`,\n    meta: [\n      {\n        name: 'description',\n        content: item.description || 'Vezi detalii despre acest produs.'\n      }\n    ]\n  })\n}\n</script>\n<style scoped>\n.zoom-wrapper {\n  position: relative;\n  overflow: hidden;\n}\n\n.zoom-image {\n  transition: transform 0.4s ease;\n  transform-origin: center center;\n}\n\n.zoom-wrapper:hover .zoom-image {\n  transform: scale(1.3);\n\n}\n.scrollbar-hide::-webkit-scrollbar {\n  display: none;\n}\n.scrollbar-hide {\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n}\n</style>"],"version":3}