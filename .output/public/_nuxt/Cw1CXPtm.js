import{j as R,k as S,l as v,e as B,c as l,a as t,h as a,t as n,n as I,d as M,F as P,r as V,i as j,o as d,m as A}from"./Bd8ljqR2.js";import{u as F}from"./BOh-c-DE.js";import{u as b}from"./C8SpssaU.js";import{_ as O}from"./DlAUqK2U.js";const T={class:"px-6 py-12 max-w-7xl mx-auto"},D={class:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center"},E={class:"relative group overflow-hidden rounded-xl shadow-xl"},H={class:"zoom-wrapper relative w-full h-full overflow-hidden rounded-xl"},L=["src","alt"],q={class:"space-y-6 relative z-20"},G={class:"text-4xl font-extrabold tracking-tight text-gray-900"},J={class:"text-3xl text-cyan-600 font-bold"},K={class:"text-sm text-gray-500 font-semibold"},Q={class:"text-gray-700 text-base leading-relaxed border-l-4 pl-4 border-gray-300"},U=["disabled"],W={class:"flex overflow-x-auto gap-4 mt-6 pb-2 scrollbar-hide scroll-smooth snap-x snap-mandatory"},X=["onClick"],Y=["src","alt"],Z={class:"p-4 space-y-1"},ee={class:"text-base font-medium text-gray-800 truncate"},te={class:"text-sm text-gray-500"},se={__name:"[id]",async setup(oe){var _,f,g,h;let i,c;const y=F(),w=R(),k=S(),u=j(),s=v(null),p=([i,c]=B(()=>$fetch(`${u.public.apiBase}/products`)),i=await i,c(),i);s.value=p.find(e=>e.id===Number(w.params.id));const C=((f=(_=s.value)==null?void 0:_.categories)==null?void 0:f.map(e=>e.id))||[],m=v([]),$=p.filter(e=>e.id===s.value.id||!e.categories?!1:e.categories.map(o=>o.id).some(o=>C.includes(o)));m.value=$.sort(()=>.5-Math.random()).slice(0,4),b({title:`${(g=s.value)==null?void 0:g.name} - MyShop`,meta:[{name:"description",content:((h=s.value)==null?void 0:h.description)||"Vezi detalii despre acest produs."}]});function x(e){return e!=null&&e.image_url?`${u.public.apiBase}/${e.image_url}`:""}function z(e){y.add(e)}function N(e){s.value=e,k.replace(`/${e.slug}/${e.id}`),b({title:`${e.name} - MyShop`,meta:[{name:"description",content:e.description||"Vezi detalii despre acest produs."}]})}return(e,r)=>(d(),l("section",T,[t("div",D,[t("div",E,[t("div",H,[t("img",{src:x(a(s)),alt:a(s).name,class:"zoom-image w-full max-h-96 object-contain transition-transform duration-500 ease-in-out"},null,8,L)])]),t("div",q,[t("h1",G,n(a(s).name),1),t("p",J,n(a(s).price)+" RON",1),t("p",K,n(a(s).stock>0?`În stoc: ${a(s).stock} produse`:"Stoc epuizat"),1),t("p",Q,n(a(s).description||"Acest produs nu are o descriere, dar e probabil genial."),1),t("button",{onClick:r[0]||(r[0]=o=>z(a(s))),class:I(Number(a(s).stock)>0?"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-cyan-600 to-cyan-500 text-white text-lg font-semibold rounded-xl shadow-md hover:scale-105 transition-transform":"inline-flex items-center gap-2 px-6 py-3 bg-slate-600 text-white text-lg font-semibold rounded-xl shadow-md  cursor-not-allowed"),disabled:Number(a(s).stock)===0},r[1]||(r[1]=[t("i",{class:"fas fa-cart-plus"},null,-1),M(" Adaugă în coș ")]),10,U)])]),r[2]||(r[2]=t("p",{class:"mt-16 text-center text-sm text-gray-500 italic"}," * Pentru comenzi de peste 20 de unități, oferim reduceri. Sună-ne sau scrie-ne ✨ ",-1)),r[3]||(r[3]=t("p",null,"Recomandate",-1)),t("div",W,[(d(!0),l(P,null,V(a(m),o=>(d(),l("div",{key:o.id,class:"w-[250px] flex-shrink-0 bg-white rounded-xl overflow-hidden shadow-md snap-start"},[t("a",{href:"#",onClick:A(ae=>N(o),["prevent"])},[t("img",{src:x(o),alt:o.name,class:"w-[250px] h-30 object-cover"},null,8,Y),t("div",Z,[t("p",ee,n(o.name),1),t("p",te,n(o.price)+" RON",1)])],8,X)]))),128))])]))}},de=O(se,[["__scopeId","data-v-22c8d446"]]);export{de as default};
